<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Cross-Validation Interactive Playbook</title>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            overflow-x: auto;
            flex-wrap: wrap;
        }

        .tab-button {
            background: transparent;
            border: none;
            padding: 15px 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            color: #495057;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .tab-button:hover {
            background: #e9ecef;
            color: #667eea;
        }

        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 40px;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            color: #495057;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        p {
            line-height: 1.8;
            color: #495057;
            margin-bottom: 15px;
        }

        .concept-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .concept-box.warning {
            border-left-color: #ffc107;
            background: #fff9e6;
        }

        .concept-box.success {
            border-left-color: #28a745;
            background: #e6f9e9;
        }

        .concept-box.danger {
            border-left-color: #dc3545;
            background: #ffe6e6;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        .visual-demo {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .fold-demo {
            display: flex;
            gap: 5px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .fold {
            flex: 1;
            min-width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-weight: bold;
            color: white;
        }

        .fold.train {
            background: #4ECDC4;
        }

        .fold.test {
            background: #FF6B6B;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .pros, .cons {
            padding: 20px;
            border-radius: 8px;
        }

        .pros {
            background: #e6f9e9;
            border-left: 4px solid #28a745;
        }

        .cons {
            background: #ffe6e6;
            border-left: 4px solid #dc3545;
        }

        .pros h4, .cons h4 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .pros ul, .cons ul {
            list-style: none;
            padding-left: 0;
        }

        .pros li::before {
            content: "âœ“ ";
            color: #28a745;
            font-weight: bold;
            margin-right: 8px;
        }

        .cons li::before {
            content: "âœ— ";
            color: #dc3545;
            font-weight: bold;
            margin-right: 8px;
        }

        li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* Quiz Styles */
        .quiz-container {
            margin-top: 30px;
        }

        .question {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 4px solid #667eea;
        }

        .question h4 {
            color: #495057;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .options {
            list-style: none;
            padding: 0;
        }

        .option {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #dee2e6;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: #e7eaf6;
        }

        .option.correct {
            border-color: #28a745;
            background: #e6f9e9;
        }

        .option.incorrect {
            border-color: #dc3545;
            background: #ffe6e6;
        }

        .submit-btn, .restart-btn, .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 10px 10px 0;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:hover, .restart-btn:hover, .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
        }

        .explanation {
            background: #fff9e6;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .interactive-demo {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .demo-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .demo-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .demo-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }

        .demo-output {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            min-height: 100px;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }

            .tab-button {
                width: 100%;
                text-align: left;
            }

            .pros-cons {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .tab-content {
                padding: 20px;
            }
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #495057;
            border-top: 2px solid #dee2e6;
        }
    </style>
</head>
<body>
<div class="container">
<div class="header">
<h1>ğŸ¯ Cross-Validation Interactive Playbook</h1>
<p>Learn Machine Learning Model Evaluation - Interactive &amp; Fun!</p>
<p style="font-size: 0.9em; margin-top: 10px;">By Siva R Jasthi | Metropolitan State University</p>
</div>
<div class="tabs">
<button class="tab-button active" onclick="openTab(event, 'intro')">ğŸ“š Introduction</button>
<button class="tab-button" onclick="openTab(event, 'problem')">âš ï¸ The Problem</button>
<button class="tab-button" onclick="openTab(event, 'kfold')">ğŸ”„ K-Fold</button>
<button class="tab-button" onclick="openTab(event, 'stratified')">âš–ï¸ Stratified</button>
<button class="tab-button" onclick="openTab(event, 'loo')">1ï¸âƒ£ Leave-One-Out</button>
<button class="tab-button" onclick="openTab(event, 'timeseries')">â° Time Series</button>
<button class="tab-button" onclick="openTab(event, 'comparison')">ğŸ“Š Comparison</button>
<button class="tab-button" onclick="openTab(event, 'quiz')">ğŸ“ Quiz</button>
</div>
<!-- INTRODUCTION TAB -->
<div class="tab-content active" id="intro">
<h2><span class="emoji">ğŸ“š</span>What is Cross-Validation?</h2>
<div class="concept-box">
<h3>The Big Picture</h3>
<p>Cross-validation is a technique for evaluating machine learning models by training and testing on different portions of the data. It helps us understand how well our model will generalize to new, unseen data.</p>
</div>
<h3>Why Do We Need It?</h3>
<div class="concept-box success">
<strong>ğŸ¯ Goal:</strong> Build models that work well on NEW data, not just memorize training data!
            </div>
<p><strong>Think of it like studying for a test:</strong></p>
<ul style="margin-left: 40px;">
<li>âŒ <strong>Bad approach:</strong> Memorize the exact practice questions</li>
<li>âœ… <strong>Good approach:</strong> Understand the concepts so you can solve any similar problem</li>
</ul>
<h3>The Train-Test-Validate Split</h3>
<div class="visual-demo">
<h4>Traditional Data Split</h4>
<div style="display: flex; gap: 10px; margin: 20px 0;">
<div style="flex: 6; background: #4ECDC4; padding: 20px; border-radius: 5px; color: white;">
<strong>TRAINING (60%)</strong><br/>
                        Learn patterns
                    </div>
<div style="flex: 2; background: #FFD93D; padding: 20px; border-radius: 5px;">
<strong>VALIDATION (20%)</strong><br/>
                        Tune model
                    </div>
<div style="flex: 2; background: #FF6B6B; padding: 20px; border-radius: 5px; color: white;">
<strong>TEST (20%)</strong><br/>
                        Final check
                    </div>
</div>
</div>
<h3>Key Benefits</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
<div class="concept-box">
<strong>ğŸ¯ Reliability</strong><br/>
                    Better estimate of real-world performance
                </div>
<div class="concept-box">
<strong>âš–ï¸ Fairness</strong><br/>
                    Test on multiple data subsets
                </div>
<div class="concept-box">
<strong>ğŸ’ª Confidence</strong><br/>
                    Know how consistent your model is
                </div>
<div class="concept-box">
<strong>ğŸ” Optimization</strong><br/>
                    Compare different models fairly
                </div>
</div>
<div class="concept-box warning">
<strong>âš¡ Quick Tip:</strong> Cross-validation helps you avoid overfitting and gives you confidence that your model will work in the real world!
            </div>
<button class="nav-btn" onclick="nextTab('problem')">Next: The Problem â†’</button>
</div>
<!-- PROBLEM TAB -->
<div class="tab-content" id="problem">
<h2><span class="emoji">âš ï¸</span>The Overfitting Problem</h2>
<div class="concept-box danger">
<h3>What is Overfitting?</h3>
<p><strong>Overfitting</strong> happens when a model is too complex and captures the <em>noise</em> or random fluctuations in the training data, instead of the underlying patterns that generalize to new data.</p>
</div>
<h3>The Three Scenarios</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0;">
<div class="concept-box danger">
<h4>ğŸ˜¢ Underfitting</h4>
<p><strong>Too Simple</strong></p>
<p>Model doesn't capture the pattern at all. Like using a straight line to fit a curve.</p>
<p>ğŸ“‰ Low accuracy on both training AND test data</p>
</div>
<div class="concept-box success">
<h4>ğŸ˜Š Good Fit</h4>
<p><strong>Just Right</strong></p>
<p>Model captures the underlying pattern without memorizing noise.</p>
<p>ğŸ“ˆ Good accuracy on both training AND test data</p>
</div>
<div class="concept-box danger">
<h4>ğŸ˜± Overfitting</h4>
<p><strong>Too Complex</strong></p>
<p>Model memorizes training data including noise. Doesn't generalize.</p>
<p>ğŸ“Š High accuracy on training, LOW on test data</p>
</div>
</div>
<h3>Real-World Analogy: The Exam Analogy</h3>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>What You Did</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Underfitting</strong></td>
<td>Didn't study at all</td>
<td>âŒ Failed on all types of questions</td>
</tr>
<tr>
<td><strong>Good Fit</strong></td>
<td>Understood the concepts</td>
<td>âœ… Can solve similar but different problems</td>
</tr>
<tr>
<td><strong>Overfitting</strong></td>
<td>Memorized practice test answers</td>
<td>âŒ Failed when questions were slightly different</td>
</tr>
</tbody>
</table>
<h3>How Cross-Validation Helps</h3>
<div class="concept-box success">
<p><strong>Cross-validation solves overfitting by:</strong></p>
<ul style="margin-left: 20px; margin-top: 10px;">
<li>Testing on data the model hasn't seen during training</li>
<li>Using multiple different test sets (not just one)</li>
<li>Giving a reliable estimate of generalization performance</li>
<li>Helping you choose the right model complexity</li>
</ul>
</div>
<div class="interactive-demo">
<h4>ğŸ® Interactive Demo: Spot the Overfitting!</h4>
<div class="demo-controls">
<button class="demo-btn" onclick="showFitExample('under')">Show Underfitting</button>
<button class="demo-btn" onclick="showFitExample('good')">Show Good Fit</button>
<button class="demo-btn" onclick="showFitExample('over')">Show Overfitting</button>
</div>
<div class="demo-output" id="fitOutput">
<p style="text-align: center; color: #6c757d;">Click a button above to see examples!</p>
</div>
</div>
<button class="nav-btn" onclick="nextTab('kfold')">Next: K-Fold CV â†’</button>
</div>
<!-- K-FOLD TAB -->
<div class="tab-content" id="kfold">
<h2><span class="emoji">ğŸ”„</span>K-Fold Cross-Validation</h2>
<div class="concept-box">
<h3>The Main Technique</h3>
<p>K-Fold is the most popular cross-validation method. It divides your data into K equal parts (folds) and trains K different models, each time using a different fold as the test set.</p>
</div>
<h3>How It Works (5-Fold Example)</h3>
<div class="visual-demo">
<p style="margin-bottom: 20px;"><strong>Each row shows one iteration. The red fold is used for testing, blue folds for training.</strong></p>
<div id="kfoldDemo"></div>
<p style="margin-top: 20px; color: #6c757d;">After 5 iterations, every fold has been used as a test set exactly once!</p>
</div>
<h3>Step-by-Step Algorithm</h3>
<div class="concept-box">
<ol style="margin-left: 20px;">
<li><strong>Split</strong> your dataset into K equal folds (e.g., K=5)</li>
<li><strong>Pick</strong> one fold as the test set</li>
<li><strong>Use</strong> the remaining K-1 folds as training set</li>
<li><strong>Train</strong> the model and test on the held-out fold</li>
<li><strong>Record</strong> the performance score</li>
<li><strong>Repeat</strong> K times, each time using a different fold as test set</li>
<li><strong>Average</strong> all K scores for final performance estimate</li>
</ol>
</div>
<h3>Python Code Example</h3>
<div class="code-block"><pre>from sklearn.model_selection import KFold, cross_val_score
from sklearn.linear_model import LogisticRegression

# Create K-Fold object (5 folds)
kfold = KFold(n_splits=5, shuffle=True, random_state=42)

# Create model
model = LogisticRegression()

# Perform cross-validation
scores = cross_val_score(model, X, y, cv=kfold)

# Display results
print(f"Scores: {scores}")
print(f"Mean: {scores.mean():.3f}")
print(f"Std:  {scores.std():.3f}")</pre></div>
<h3>Choosing K</h3>
<table>
<thead>
<tr>
<th>K Value</th>
<th>When to Use</th>
<th>Trade-offs</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>K = 3</strong></td>
<td>Large datasets, quick testing</td>
<td>âš¡ Faster but less reliable</td>
</tr>
<tr>
<td><strong>K = 5</strong></td>
<td>Most situations (RECOMMENDED)</td>
<td>âš–ï¸ Good balance</td>
</tr>
<tr>
<td><strong>K = 10</strong></td>
<td>More thorough evaluation</td>
<td>ğŸ¯ More reliable but slower</td>
</tr>
</tbody>
</table>
<div class="pros-cons">
<div class="pros">
<h4>âœ… Advantages</h4>
<ul>
<li>Every data point used for both training and testing</li>
<li>Less biased than single train-test split</li>
<li>Works well with limited data</li>
<li>Reduces variance in performance estimates</li>
</ul>
</div>
<div class="cons">
<h4>âŒ Disadvantages</h4>
<ul>
<li>Takes K times longer to compute</li>
<li>Not suitable for imbalanced data (use Stratified instead)</li>
<li>Not for time series (use Time Series CV)</li>
</ul>
</div>
</div>
<div class="concept-box warning">
<strong>ğŸ’¡ Pro Tip:</strong> K=5 or K=10 are the most common choices. Start with K=5 for most problems!
            </div>
<button class="nav-btn" onclick="nextTab('stratified')">Next: Stratified K-Fold â†’</button>
</div>
<!-- STRATIFIED TAB -->
<div class="tab-content" id="stratified">
<h2><span class="emoji">âš–ï¸</span>Stratified K-Fold Cross-Validation</h2>
<div class="concept-box warning">
<h3>The Problem with Regular K-Fold</h3>
<p>When you have <strong>imbalanced classes</strong> (e.g., 90% positive, 10% negative), random splitting can create folds where some classes are barely represented or missing entirely!</p>
</div>
<h3>What is Stratification?</h3>
<div class="concept-box success">
<p><strong>Stratification ensures each fold has the same proportion of each class as the original dataset.</strong></p>
<p>If your data is 70% Class A and 30% Class B, each fold will also be ~70% Class A and ~30% Class B.</p>
</div>
<h3>Visual Comparison</h3>
<div class="visual-demo">
<h4>Original Dataset: 70% ğŸ”µ Blue, 30% ğŸ”´ Red</h4>
<div style="margin: 30px 0;">
<p><strong>âŒ Regular K-Fold (Random - Can Be Imbalanced):</strong></p>
<div id="regularKFoldDemo"></div>
</div>
<div style="margin: 30px 0;">
<p><strong>âœ… Stratified K-Fold (Maintains 70-30 Ratio):</strong></p>
<div id="stratifiedKFoldDemo"></div>
</div>
</div>
<h3>When to Use Stratified K-Fold</h3>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
<div class="concept-box success">
<h4>âœ… USE When:</h4>
<ul style="margin-left: 20px;">
<li>Classes are imbalanced</li>
<li>Some classes are rare</li>
<li>Classification problems</li>
<li>Multi-class problems</li>
</ul>
</div>
<div class="concept-box danger">
<h4>âŒ DON'T USE When:</h4>
<ul style="margin-left: 20px;">
<li>Regression problems (no classes)</li>
<li>Classes are perfectly balanced</li>
<li>Time series data</li>
</ul>
</div>
</div>
<h3>Real-World Examples</h3>
<table>
<thead>
<tr>
<th>Domain</th>
<th>Problem</th>
<th>Why Stratified?</th>
</tr>
</thead>
<tbody>
<tr>
<td>ğŸ¥ Medical</td>
<td>Disease detection</td>
<td>Diseases are rare (~5% positive)</td>
</tr>
<tr>
<td>ğŸ’³ Finance</td>
<td>Fraud detection</td>
<td>Most transactions are legitimate (~99%)</td>
</tr>
<tr>
<td>ğŸ“§ Email</td>
<td>Spam detection</td>
<td>Most emails aren't spam (~80-90%)</td>
</tr>
<tr>
<td>ğŸ­ Manufacturing</td>
<td>Defect detection</td>
<td>Defects are rare (~1-2%)</td>
</tr>
</tbody>
</table>
<h3>Python Code Example</h3>
<div class="code-block"><pre>from sklearn.model_selection import StratifiedKFold, cross_val_score
from sklearn.linear_model import LogisticRegression

# Create Stratified K-Fold object
stratified_kfold = StratifiedKFold(n_splits=5, shuffle=True, random_state=42)

# Create model
model = LogisticRegression()

# Perform cross-validation
scores = cross_val_score(model, X, y, cv=stratified_kfold)

print(f"Scores: {scores}")
print(f"Mean: {scores.mean():.3f}")</pre></div>
<div class="pros-cons">
<div class="pros">
<h4>âœ… Advantages</h4>
<ul>
<li>Preserves class distribution in each fold</li>
<li>More reliable for imbalanced data</li>
<li>Reduces variance in performance</li>
<li>Fairer model comparison</li>
</ul>
</div>
<div class="cons">
<h4>âŒ Limitations</h4>
<ul>
<li>Only for classification (not regression)</li>
<li>Slightly more complex than K-Fold</li>
<li>Still not suitable for time series</li>
</ul>
</div>
</div>
<div class="concept-box warning">
<strong>ğŸ¯ Best Practice:</strong> When in doubt with classification problems, use Stratified K-Fold instead of regular K-Fold!
            </div>
<button class="nav-btn" onclick="nextTab('loo')">Next: Leave-One-Out â†’</button>
</div>
<!-- LEAVE-ONE-OUT TAB -->
<div class="tab-content" id="loo">
<h2><span class="emoji">1ï¸âƒ£</span>Leave-One-Out Cross-Validation (LOOCV)</h2>
<div class="concept-box">
<h3>The Maximum Data Usage Technique</h3>
<p>LOOCV is an extreme form of K-Fold where K = N (number of samples). Each data point gets to be the test set exactly once!</p>
</div>
<h3>How It Works</h3>
<div class="visual-demo">
<h4>Example with 10 Data Points</h4>
<p>Each row is one iteration. The âŒ is the test sample, âœ“ are training samples.</p>
<div id="looDemo" style="font-family: monospace; line-height: 2;"></div>
<p style="margin-top: 20px;"><strong>Total iterations: 10 (one for each data point)</strong></p>
</div>
<h3>The Math</h3>
<div class="concept-box">
<p><strong>For a dataset with N samples:</strong></p>
<ul style="margin-left: 20px; margin-top: 10px;">
<li>Number of iterations = <strong>N</strong></li>
<li>Training set size = <strong>N - 1</strong> (99.9% of data!)</li>
<li>Test set size = <strong>1</strong> (single sample)</li>
<li>Each sample is test set exactly once</li>
</ul>
</div>
<h3>When to Use LOOCV</h3>
<table>
<thead>
<tr>
<th>Dataset Size</th>
<th>Recommendation</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt; 50 samples</td>
<td>âœ… Consider LOOCV</td>
<td>Every sample counts!</td>
</tr>
<tr>
<td>50-100 samples</td>
<td>âš ï¸ Maybe LOOCV</td>
<td>If training is fast</td>
</tr>
<tr>
<td>100-1,000 samples</td>
<td>âŒ Use 10-Fold</td>
<td>LOOCV too slow</td>
</tr>
<tr>
<td>&gt; 1,000 samples</td>
<td>âŒ Use 5-Fold</td>
<td>Definitely too slow</td>
</tr>
</tbody>
</table>
<h3>Speed Comparison</h3>
<div class="interactive-demo">
<h4>ğŸ® Interactive: See the Computation Cost</h4>
<div class="demo-controls">
<label>Dataset size: <input id="datasetSize" max="1000" min="10" step="10" type="number" value="100"/></label>
<button class="demo-btn" onclick="calculateLOOCost()">Calculate</button>
</div>
<div class="demo-output" id="looCostOutput">
<p style="text-align: center; color: #6c757d;">Enter dataset size and click Calculate!</p>
</div>
</div>
<h3>Python Code Example</h3>
<div class="code-block"><pre>from sklearn.model_selection import LeaveOneOut, cross_val_score
from sklearn.linear_model import LogisticRegression
import time

# Create LOOCV object
loo = LeaveOneOut()

# Create model
model = LogisticRegression()

# Measure time
start = time.time()
scores = cross_val_score(model, X, y, cv=loo)
elapsed = time.time() - start

print(f"Iterations: {loo.get_n_splits(X)}")
print(f"Time: {elapsed:.2f} seconds")
print(f"Mean Accuracy: {scores.mean():.3f}")</pre></div>
<div class="pros-cons">
<div class="pros">
<h4>âœ… Advantages</h4>
<ul>
<li>Maximum use of training data (N-1 samples)</li>
<li>Deterministic (same results every time)</li>
<li>No bias from data splitting</li>
<li>Perfect for tiny datasets</li>
</ul>
</div>
<div class="cons">
<h4>âŒ Disadvantages</h4>
<ul>
<li>VERY slow (trains N models!)</li>
<li>High variance (test set = 1 sample)</li>
<li>Not practical for large datasets</li>
<li>Computationally expensive</li>
</ul>
</div>
</div>
<div class="concept-box danger">
<strong>âš ï¸ Reality Check:</strong> For most real-world problems, 5-Fold or 10-Fold CV works better than LOOCV! Use LOOCV only when you have very few samples (&lt; 50) and fast training.
            </div>
<button class="nav-btn" onclick="nextTab('timeseries')">Next: Time Series CV â†’</button>
</div>
<!-- TIME SERIES TAB -->
<div class="tab-content" id="timeseries">
<h2><span class="emoji">â°</span>Time Series Cross-Validation</h2>
<div class="concept-box danger">
<h3>âš ï¸ WARNING: Regular K-Fold is WRONG for Time Series!</h3>
<p>Time series data has a natural order. Using regular K-Fold would break causality by training on <em>future</em> data to predict the <em>past</em>!</p>
</div>
<h3>Why Time Series is Different</h3>
<table>
<thead>
<tr>
<th>Regular Data</th>
<th>Time Series Data</th>
</tr>
</thead>
<tbody>
<tr>
<td>âœ… Can shuffle randomly</td>
<td>âŒ NEVER shuffle</td>
</tr>
<tr>
<td>âœ… Independent samples</td>
<td>âŒ Sequential dependencies</td>
</tr>
<tr>
<td>âœ… Any split works</td>
<td>âŒ Must respect time order</td>
</tr>
<tr>
<td>Train/test can be anywhere</td>
<td>Train = past, Test = future</td>
</tr>
</tbody>
</table>
<h3>How Time Series CV Works</h3>
<div class="concept-box success">
<p><strong>Key Principle:</strong> Always train on PAST data, test on FUTURE data. The training set GROWS over time.</p>
</div>
<div class="visual-demo">
<h4>Expanding Window (Growing Training Set)</h4>
<div id="timeSeriesDemo"></div>
<p style="margin-top: 20px;">
                    â† PAST Â Â Â Â Â Â Â Â  TIME â†’  Â Â Â Â Â Â Â Â FUTURE â†’
                </p>
</div>
<h3>Real-World Applications</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
<div class="concept-box">
<strong>ğŸ“ˆ Finance</strong><br/>
                    Stock price prediction<br/>
                    Currency exchange rates
                </div>
<div class="concept-box">
<strong>ğŸŒ¡ï¸ Weather</strong><br/>
                    Temperature forecasting<br/>
                    Rainfall prediction
                </div>
<div class="concept-box">
<strong>ğŸª Retail</strong><br/>
                    Sales forecasting<br/>
                    Inventory planning
                </div>
<div class="concept-box">
<strong>ğŸ“Š Web Analytics</strong><br/>
                    User traffic prediction<br/>
                    Page view forecasting
                </div>
</div>
<h3>Python Code Example</h3>
<div class="code-block"><pre>from sklearn.model_selection import TimeSeriesSplit
from sklearn.linear_model import LinearRegression

# Create Time Series CV object (5 splits)
tscv = TimeSeriesSplit(n_splits=5)

model = LinearRegression()

# Iterate through splits
for fold, (train_idx, test_idx) in enumerate(tscv.split(X), 1):
    # Split maintaining time order
    X_train, X_test = X[train_idx], X[test_idx]
    y_train, y_test = y[train_idx], y[test_idx]

    # Train on past, predict future
    model.fit(X_train, y_train)
    score = model.score(X_test, y_test)

    print(f"Fold {fold}: Train={len(train_idx)}, Test={len(test_idx)}, RÂ²={score:.3f}")</pre></div>
<h3>Two Variants</h3>
<div class="pros-cons">
<div class="pros">
<h4>ğŸ“ˆ Expanding Window</h4>
<ul>
<li>Training set grows each time</li>
<li>Uses all historical data</li>
<li>More stable predictions</li>
<li>Default in TimeSeriesSplit</li>
</ul>
</div>
<div class="cons">
<h4>ğŸ”„ Rolling Window</h4>
<ul>
<li>Fixed-size training window</li>
<li>Drops oldest data as new data comes</li>
<li>Adapts to recent patterns</li>
<li>Faster computation</li>
</ul>
</div>
</div>
<div class="concept-box danger">
<strong>ğŸš« Common Mistakes to Avoid:</strong>
<ul style="margin-left: 20px; margin-top: 10px;">
<li>Using regular K-Fold on time series</li>
<li>Shuffling time series data</li>
<li>Testing on past to predict future</li>
<li>Ignoring temporal dependencies</li>
</ul>
</div>
<div class="concept-box success">
<strong>âœ… Golden Rule:</strong> For ANY data with timestamps or sequential order, use Time Series Split!
            </div>
<button class="nav-btn" onclick="nextTab('comparison')">Next: Comparison â†’</button>
</div>
<!-- COMPARISON TAB -->
<div class="tab-content" id="comparison">
<h2><span class="emoji">ğŸ“Š</span>Comparison of All Methods</h2>
<h3>Quick Decision Guide</h3>
<div class="concept-box">
<h4>ğŸ¯ Follow This Decision Tree:</h4>
<pre style="font-family: monospace; line-height: 1.8; margin: 20px;">
START
  â”œâ”€ Is it time series data?
  â”‚   â”œâ”€ YES â†’ Use <strong>TimeSeriesSplit</strong>
  â”‚   â””â”€ NO â†“
  â”‚
  â”œâ”€ Is dataset very small (&lt; 50 samples)?
  â”‚   â”œâ”€ YES â†’ Consider <strong>Leave-One-Out</strong>
  â”‚   â””â”€ NO â†“
  â”‚
  â”œâ”€ Classification or Regression?
  â”‚   â”œâ”€ REGRESSION â†’ Use <strong>K-Fold (5 or 10)</strong>
  â”‚   â””â”€ CLASSIFICATION â†“
  â”‚
  â”œâ”€ Are classes balanced?
  â”‚   â”œâ”€ YES â†’ Use <strong>K-Fold (5 or 10)</strong>
  â”‚   â””â”€ NO â†’ Use <strong>Stratified K-Fold (5 or 10)</strong>
                </pre>
</div>
<h3>Complete Comparison Table</h3>
<div style="overflow-x: auto;">
<table>
<thead>
<tr>
<th>Method</th>
<th>Iterations</th>
<th>Training Size</th>
<th>Best For</th>
<th>Speed</th>
<th>Variance</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Holdout</strong></td>
<td>1</td>
<td>70-80%</td>
<td>Very large datasets</td>
<td>âš¡âš¡âš¡ Fastest</td>
<td>ğŸ˜Ÿ High</td>
</tr>
<tr>
<td><strong>K-Fold (K=5)</strong></td>
<td>5</td>
<td>80%</td>
<td>Most problems</td>
<td>âš¡âš¡ Fast</td>
<td>ğŸ˜Š Low</td>
</tr>
<tr>
<td><strong>K-Fold (K=10)</strong></td>
<td>10</td>
<td>90%</td>
<td>Thorough evaluation</td>
<td>âš¡ Medium</td>
<td>ğŸ˜Š Low</td>
</tr>
<tr>
<td><strong>Stratified K-Fold</strong></td>
<td>K</td>
<td>Variable</td>
<td>Imbalanced classes</td>
<td>âš¡ Medium</td>
<td>ğŸ˜Š Low</td>
</tr>
<tr>
<td><strong>Leave-One-Out</strong></td>
<td>N</td>
<td>99.9%</td>
<td>Tiny datasets</td>
<td>ğŸŒ Very Slow</td>
<td>ğŸ˜Ÿ High</td>
</tr>
<tr>
<td><strong>Time Series Split</strong></td>
<td>K</td>
<td>Growing</td>
<td>Sequential data</td>
<td>âš¡ Medium</td>
<td>ğŸ˜Š Low</td>
</tr>
</tbody>
</table>
</div>
<h3>Use Case Matrix</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 30px 0;">
<div class="concept-box">
<h4>ğŸ“š General ML (Balanced)</h4>
<strong>â†’ K-Fold (K=5)</strong>
<p style="margin-top: 10px;">Works for most classification and regression problems with balanced classes.</p>
</div>
<div class="concept-box">
<h4>âš–ï¸ Imbalanced Classes</h4>
<strong>â†’ Stratified K-Fold</strong>
<p style="margin-top: 10px;">Medical diagnosis, fraud detection, spam filtering, defect detection.</p>
</div>
<div class="concept-box">
<h4>ğŸ“Š Small Dataset (&lt; 50)</h4>
<strong>â†’ Leave-One-Out</strong>
<p style="margin-top: 10px;">Clinical trials, rare events, expensive experiments.</p>
</div>
<div class="concept-box">
<h4>â° Time-Ordered Data</h4>
<strong>â†’ Time Series Split</strong>
<p style="margin-top: 10px;">Stock prices, weather, sales, any temporal data.</p>
</div>
<div class="concept-box">
<h4>ğŸ’¾ Huge Dataset (&gt; 1M)</h4>
<strong>â†’ Holdout or 3-Fold</strong>
<p style="margin-top: 10px;">When you have so much data that simple splitting works fine.</p>
</div>
<div class="concept-box">
<h4>ğŸ¯ Model Comparison</h4>
<strong>â†’ 10-Fold CV</strong>
<p style="margin-top: 10px;">When choosing between different algorithms, use consistent CV.</p>
</div>
</div>
<h3>Common Pitfalls Comparison</h3>
<table>
<thead>
<tr>
<th>Mistake</th>
<th>Wrong Method</th>
<th>Correct Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Using K-Fold on time series</td>
<td>âŒ K-Fold</td>
<td>âœ… TimeSeriesSplit</td>
</tr>
<tr>
<td>Imbalanced data (90-10 split)</td>
<td>âŒ K-Fold</td>
<td>âœ… Stratified K-Fold</td>
</tr>
<tr>
<td>Dataset has only 30 samples</td>
<td>âŒ Holdout</td>
<td>âœ… Leave-One-Out or 5-Fold</td>
</tr>
<tr>
<td>Need quick initial test</td>
<td>âŒ LOOCV</td>
<td>âœ… Holdout or 3-Fold</td>
</tr>
<tr>
<td>Regression problem</td>
<td>âŒ Stratified K-Fold</td>
<td>âœ… K-Fold</td>
</tr>
</tbody>
</table>
<div class="concept-box success">
<h4>ğŸ¯ Final Recommendations</h4>
<ul style="margin-left: 20px;">
<li><strong>Default choice:</strong> 5-Fold or 10-Fold CV</li>
<li><strong>For imbalanced:</strong> Always use Stratified K-Fold</li>
<li><strong>For time series:</strong> Always use Time Series Split</li>
<li><strong>For tiny data:</strong> Consider Leave-One-Out</li>
<li><strong>When in doubt:</strong> Use 5-Fold Stratified K-Fold</li>
</ul>
</div>
<button class="nav-btn" onclick="nextTab('quiz')">Ready for the Quiz? â†’</button>
</div>
<!-- QUIZ TAB -->
<div class="tab-content" id="quiz">
<h2><span class="emoji">ğŸ“</span>Cross-Validation Quiz</h2>
<p style="font-size: 1.2em; margin-bottom: 20px;">Test your knowledge! Select the best answer for each question.</p>
<div class="progress-bar">
<div class="progress-fill" id="quizProgress"></div>
</div>
<div class="quiz-container" id="quizContainer">
<!-- Questions will be inserted here by JavaScript -->
</div>
<div style="margin-top: 30px;">
<button class="submit-btn" disabled="" id="submitQuiz" onclick="submitQuiz()">Submit Quiz</button>
<button class="restart-btn" id="restartQuiz" onclick="restartQuiz()" style="display: none;">Try Again</button>
</div>
<div id="scoreDisplay" style="display: none;"></div>
</div>
<div class="footer">
<p><strong>Cross-Validation Interactive Playbook</strong></p>
<p>Created by Siva R Jasthi | Metropolitan State University</p>
<p style="margin-top: 10px; font-size: 0.9em;">Computer Science and Cybersecurity Department</p>
</div>
</div>
<script>
        // Tab Navigation
        function openTab(evt, tabName) {
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }
            
            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function nextTab(tabName) {
            const tabs = ['intro', 'problem', 'kfold', 'stratified', 'loo', 'timeseries', 'comparison', 'quiz'];
            const currentIndex = tabs.indexOf(tabName);
            
            // Activate the tab
            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
                if (tabButtons[i].textContent.toLowerCase().includes(tabName.substring(0, 4))) {
                    tabButtons[i].classList.add("active");
                }
            }
            
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            window.scrollTo(0, 0);
        }

        // K-Fold Visualization
        function createKFoldDemo() {
            const container = document.getElementById('kfoldDemo');
            const folds = 5;
            
            for (let i = 0; i < folds; i++) {
                const row = document.createElement('div');
                row.className = 'fold-demo';
                row.style.marginBottom = '15px';
                
                for (let j = 0; j < folds; j++) {
                    const fold = document.createElement('div');
                    fold.className = j === i ? 'fold test' : 'fold train';
                    fold.textContent = j === i ? 'TEST' : 'TRAIN';
                    row.appendChild(fold);
                }
                
                const label = document.createElement('div');
                label.textContent = `Fold ${i + 1}`;
                label.style.fontWeight = 'bold';
                label.style.marginLeft = '10px';
                label.style.alignSelf = 'center';
                row.appendChild(label);
                
                container.appendChild(row);
            }
        }

        // Regular K-Fold Demo (potentially imbalanced)
        function createRegularKFoldDemo() {
            const container = document.getElementById('regularKFoldDemo');
            const folds = 5;
            const samplesPerFold = 10;
            
            for (let i = 0; i < folds; i++) {
                const row = document.createElement('div');
                row.style.display = 'flex';
                row.style.gap = '3px';
                row.style.marginBottom = '8px';
                
                // Randomly assign classes (can be imbalanced)
                for (let j = 0; j < samplesPerFold; j++) {
                    const sample = document.createElement('div');
                    const isBlue = Math.random() < 0.7;
                    sample.style.width = '30px';
                    sample.style.height = '30px';
                    sample.style.backgroundColor = isBlue ? '#4ECDC4' : '#FF6B6B';
                    sample.style.borderRadius = '3px';
                    sample.textContent = isBlue ? 'ğŸ”µ' : 'ğŸ”´';
                    sample.style.fontSize = '12px';
                    sample.style.display = 'flex';
                    sample.style.alignItems = 'center';
                    sample.style.justifyContent = 'center';
                    row.appendChild(sample);
                }
                
                container.appendChild(row);
            }
        }

        // Stratified K-Fold Demo (balanced)
        function createStratifiedKFoldDemo() {
            const container = document.getElementById('stratifiedKFoldDemo');
            const folds = 5;
            const samplesPerFold = 10;
            
            for (let i = 0; i < folds; i++) {
                const row = document.createElement('div');
                row.style.display = 'flex';
                row.style.gap = '3px';
                row.style.marginBottom = '8px';
                
                // Ensure 70-30 ratio in each fold
                const blues = 7;
                const reds = 3;
                const samples = Array(blues).fill('blue').concat(Array(reds).fill('red'));
                
                for (let j = 0; j < samplesPerFold; j++) {
                    const sample = document.createElement('div');
                    const color = samples[j];
                    sample.style.width = '30px';
                    sample.style.height = '30px';
                    sample.style.backgroundColor = color === 'blue' ? '#4ECDC4' : '#FF6B6B';
                    sample.style.borderRadius = '3px';
                    sample.textContent = color === 'blue' ? 'ğŸ”µ' : 'ğŸ”´';
                    sample.style.fontSize = '12px';
                    sample.style.display = 'flex';
                    sample.style.alignItems = 'center';
                    sample.style.justifyContent = 'center';
                    row.appendChild(sample);
                }
                
                container.appendChild(row);
            }
        }

        // LOOCV Demo
        function createLOODemo() {
            const container = document.getElementById('looDemo');
            const n = 10;
            
            for (let i = 0; i < n; i++) {
                let line = `Iteration ${String(i + 1).padStart(2, ' ')}: `;
                for (let j = 0; j < n; j++) {
                    line += j === i ? 'âŒ ' : 'âœ“ ';
                }
                const div = document.createElement('div');
                div.textContent = line;
                container.appendChild(div);
            }
        }

        // Time Series Demo
        function createTimeSeriesDemo() {
            const container = document.getElementById('timeSeriesDemo');
            const splits = 5;
            const totalUnits = 10;
            
            for (let i = 0; i < splits; i++) {
                const row = document.createElement('div');
                row.style.display = 'flex';
                row.style.gap = '5px';
                row.style.marginBottom = '15px';
                row.style.alignItems = 'center';
                
                const trainSize = 2 + i * 1.5;
                const testSize = 1.5;
                
                const trainDiv = document.createElement('div');
                trainDiv.style.flex = trainSize;
                trainDiv.style.background = '#4ECDC4';
                trainDiv.style.padding = '15px';
                trainDiv.style.borderRadius = '5px';
                trainDiv.style.color = 'white';
                trainDiv.style.fontWeight = 'bold';
                trainDiv.style.textAlign = 'center';
                trainDiv.textContent = 'TRAIN';
                
                const testDiv = document.createElement('div');
                testDiv.style.flex = testSize;
                testDiv.style.background = '#FF6B6B';
                testDiv.style.padding = '15px';
                testDiv.style.borderRadius = '5px';
                testDiv.style.color = 'white';
                testDiv.style.fontWeight = 'bold';
                testDiv.style.textAlign = 'center';
                testDiv.textContent = 'TEST';
                
                const label = document.createElement('div');
                label.textContent = `Split ${i + 1}`;
                label.style.fontWeight = 'bold';
                label.style.marginLeft = '10px';
                label.style.minWidth = '60px';
                
                row.appendChild(trainDiv);
                row.appendChild(testDiv);
                row.appendChild(label);
                container.appendChild(row);
            }
        }

        // Interactive Demos
        function showFitExample(type) {
            const output = document.getElementById('fitOutput');
            let content = '';
            
            if (type === 'under') {
                content = `
                    <h4 style="color: #dc3545;">ğŸ˜¢ Underfitting Example</h4>
                    <p><strong>Training Accuracy:</strong> 60%</p>
                    <p><strong>Test Accuracy:</strong> 58%</p>
                    <p><strong>Problem:</strong> Model is too simple. It doesn't capture the patterns in the data.</p>
                    <p><strong>Solution:</strong> Use a more complex model or add more features.</p>
                `;
            } else if (type === 'good') {
                content = `
                    <h4 style="color: #28a745;">ğŸ˜Š Good Fit Example</h4>
                    <p><strong>Training Accuracy:</strong> 92%</p>
                    <p><strong>Test Accuracy:</strong> 90%</p>
                    <p><strong>Success!</strong> Model captures patterns and generalizes well to new data.</p>
                    <p><strong>This is what we aim for!</strong></p>
                `;
            } else if (type === 'over') {
                content = `
                    <h4 style="color: #dc3545;">ğŸ˜± Overfitting Example</h4>
                    <p><strong>Training Accuracy:</strong> 99%</p>
                    <p><strong>Test Accuracy:</strong> 65%</p>
                    <p><strong>Problem:</strong> Model memorized training data including noise. Doesn't generalize!</p>
                    <p><strong>Solution:</strong> Use cross-validation, simpler model, or regularization.</p>
                `;
            }
            
            output.innerHTML = content;
        }

        function calculateLOOCost() {
            const n = parseInt(document.getElementById('datasetSize').value);
            const output = document.getElementById('looCostOutput');
            
            const looIterations = n;
            const fiveIterations = 5;
            const tenIterations = 10;
            
            output.innerHTML = `
                <h4>Computation Comparison for ${n} samples:</h4>
                <table style="width: 100%; margin-top: 15px;">
                    <tr>
                        <th>Method</th>
                        <th>Iterations</th>
                        <th>Relative Cost</th>
                    </tr>
                    <tr>
                        <td><strong>5-Fold CV</strong></td>
                        <td>${fiveIterations}</td>
                        <td>1x (baseline)</td>
                    </tr>
                    <tr>
                        <td><strong>10-Fold CV</strong></td>
                        <td>${tenIterations}</td>
                        <td>2x slower</td>
                    </tr>
                    <tr style="background: #ffe6e6;">
                        <td><strong>Leave-One-Out</strong></td>
                        <td>${looIterations}</td>
                        <td><strong>${(looIterations / fiveIterations).toFixed(1)}x slower!</strong></td>
                    </tr>
                </table>
                <p style="margin-top: 15px; color: ${looIterations > 100 ? '#dc3545' : '#28a745'};">
                    ${looIterations > 100 ? 'âš ï¸ LOOCV is NOT recommended for this dataset size!' : 'âœ… LOOCV might be acceptable if training is fast.'}
                </p>
            `;
        }

        // Quiz Data
        const quizQuestions = [
            {
                question: "What is the main purpose of cross-validation?",
                options: [
                    "To make training faster",
                    "To evaluate how well a model generalizes to new data",
                    "To increase the size of the dataset",
                    "To make models more complex"
                ],
                correct: 1,
                explanation: "Cross-validation helps us estimate how well our model will perform on new, unseen data by testing it on multiple different subsets of the data."
            },
            {
                question: "In 5-fold cross-validation, how many times is each data point used for testing?",
                options: [
                    "Never",
                    "Once",
                    "5 times",
                    "It varies"
                ],
                correct: 1,
                explanation: "Each data point is used for testing exactly once across all 5 folds, and for training in the other 4 folds."
            },
            {
                question: "Which CV method should you use for imbalanced classification datasets?",
                options: [
                    "Regular K-Fold",
                    "Stratified K-Fold",
                    "Leave-One-Out",
                    "Time Series Split"
                ],
                correct: 1,
                explanation: "Stratified K-Fold maintains the same class distribution in each fold as in the original dataset, which is crucial for imbalanced data."
            },
            {
                question: "What is the main disadvantage of Leave-One-Out Cross-Validation?",
                options: [
                    "It doesn't use enough training data",
                    "It's too simple",
                    "It's computationally very expensive",
                    "It only works for small datasets"
                ],
                correct: 2,
                explanation: "LOOCV requires training N models (where N is the number of samples), making it extremely slow for large datasets."
            },
            {
                question: "For time series data (like stock prices), which CV method is correct?",
                options: [
                    "Regular K-Fold with shuffle=True",
                    "Stratified K-Fold",
                    "Time Series Split",
                    "Leave-One-Out"
                ],
                correct: 2,
                explanation: "Time Series Split respects temporal order, always training on past data and testing on future data, which is essential for time series."
            },
            {
                question: "What does overfitting mean?",
                options: [
                    "Model is too simple and doesn't learn patterns",
                    "Model memorizes training data and doesn't generalize",
                    "Model trains too quickly",
                    "Model uses too much memory"
                ],
                correct: 1,
                explanation: "Overfitting occurs when a model is too complex and memorizes the training data (including noise) instead of learning generalizable patterns."
            },
            {
                question: "In K-Fold CV, what does K represent?",
                options: [
                    "Number of features",
                    "Number of models to train",
                    "Number of folds (splits) in the data",
                    "Number of training epochs"
                ],
                correct: 2,
                explanation: "K represents the number of folds or splits. K=5 means dividing data into 5 equal parts and training 5 models."
            },
            {
                question: "You have 100 samples. With LOOCV, how many training samples are used in each iteration?",
                options: [
                    "50",
                    "90",
                    "99",
                    "100"
                ],
                correct: 2,
                explanation: "LOOCV uses N-1 samples for training (99 out of 100), leaving just 1 sample for testing in each iteration."
            },
            {
                question: "Which is NOT a benefit of cross-validation?",
                options: [
                    "Better estimate of model performance",
                    "Faster training time",
                    "Helps detect overfitting",
                    "More reliable than single train-test split"
                ],
                correct: 1,
                explanation: "Cross-validation actually takes MORE time because it trains multiple models. Its benefits are reliability and better performance estimates."
            },
            {
                question: "For a dataset with 90% negative and 10% positive samples, what could happen with regular K-Fold?",
                options: [
                    "Nothing, it works perfectly",
                    "Some folds might have very few or no positive samples",
                    "Training will be faster",
                    "The model will automatically balance the classes"
                ],
                correct: 1,
                explanation: "Random splitting can create folds where rare classes are underrepresented or missing entirely. That's why Stratified K-Fold is better for imbalanced data."
            }
        ];

        // Quiz Functions
        let selectedAnswers = {};

        function createQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';
            
            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                const questionTitle = document.createElement('h4');
                questionTitle.textContent = `Question ${index + 1}: ${q.question}`;
                questionDiv.appendChild(questionTitle);
                
                const optionsList = document.createElement('ul');
                optionsList.className = 'options';
                
                q.options.forEach((option, optIndex) => {
                    const optionLi = document.createElement('li');
                    optionLi.className = 'option';
                    optionLi.textContent = option;
                    optionLi.onclick = () => selectAnswer(index, optIndex, optionLi);
                    optionsList.appendChild(optionLi);
                });
                
                questionDiv.appendChild(optionsList);
                
                const explanationDiv = document.createElement('div');
                explanationDiv.className = 'explanation';
                explanationDiv.id = `explanation-${index}`;
                explanationDiv.innerHTML = `<strong>Explanation:</strong> ${q.explanation}`;
                questionDiv.appendChild(explanationDiv);
                
                container.appendChild(questionDiv);
            });
        }

        function selectAnswer(questionIndex, optionIndex, element) {
            // Clear previous selection for this question
            const options = element.parentElement.children;
            for (let i = 0; i < options.length; i++) {
                options[i].classList.remove('selected');
            }
            
            element.classList.add('selected');
            selectedAnswers[questionIndex] = optionIndex;
            
            // Update progress
            updateProgress();
            
            // Enable submit button if all answered
            if (Object.keys(selectedAnswers).length === quizQuestions.length) {
                document.getElementById('submitQuiz').disabled = false;
            }
        }

        function updateProgress() {
            const progress = (Object.keys(selectedAnswers).length / quizQuestions.length) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';
        }

        function submitQuiz() {
            let correctCount = 0;
            
            quizQuestions.forEach((q, index) => {
                const userAnswer = selectedAnswers[index];
                const options = document.querySelectorAll(`.question:nth-child(${index + 1}) .option`);
                
                options.forEach((option, optIndex) => {
                    if (optIndex === q.correct) {
                        option.classList.add('correct');
                    } else if (optIndex === userAnswer && optIndex !== q.correct) {
                        option.classList.add('incorrect');
                    }
                    option.onclick = null; // Disable clicking
                });
                
                if (userAnswer === q.correct) {
                    correctCount++;
                }
                
                // Show explanation
                document.getElementById(`explanation-${index}`).classList.add('show');
            });
            
            // Show score
            const percentage = (correctCount / quizQuestions.length) * 100;
            const scoreDisplay = document.getElementById('scoreDisplay');
            
            let message = '';
            let emoji = '';
            if (percentage === 100) {
                message = 'Perfect Score! ğŸ‰';
                emoji = 'ğŸ†';
            } else if (percentage >= 80) {
                message = 'Excellent Work!';
                emoji = 'ğŸŒŸ';
            } else if (percentage >= 60) {
                message = 'Good Job!';
                emoji = 'ğŸ‘';
            } else {
                message = 'Keep Learning!';
                emoji = 'ğŸ“š';
            }
            
            scoreDisplay.innerHTML = `
                <div class="score-display">
                    <div style="font-size: 3em;">${emoji}</div>
                    <div style="font-size: 1.8em; margin: 15px 0;">${message}</div>
                    <div style="font-size: 2em; font-weight: bold;">
                        ${correctCount} / ${quizQuestions.length} Correct
                    </div>
                    <div style="font-size: 1.3em; margin-top: 10px;">
                        ${percentage.toFixed(0)}%
                    </div>
                </div>
            `;
            scoreDisplay.style.display = 'block';
            
            // Hide submit, show restart
            document.getElementById('submitQuiz').style.display = 'none';
            document.getElementById('restartQuiz').style.display = 'inline-block';
            
            // Scroll to score
            scoreDisplay.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function restartQuiz() {
            selectedAnswers = {};
            document.getElementById('scoreDisplay').style.display = 'none';
            document.getElementById('submitQuiz').style.display = 'inline-block';
            document.getElementById('submitQuiz').disabled = true;
            document.getElementById('restartQuiz').style.display = 'none';
            document.getElementById('quizProgress').style.width = '0%';
            
            createQuiz();
            window.scrollTo(0, 0);
        }

        // Initialize on page load
        window.onload = function() {
            createKFoldDemo();
            createRegularKFoldDemo();
            createStratifiedKFoldDemo();
            createLOODemo();
            createTimeSeriesDemo();
            createQuiz();
        };
    </script>
</body>
</html>

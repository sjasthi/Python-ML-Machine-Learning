import React, { useState } from 'react';
import { BookOpen, Brain, Target, Trophy, AlertTriangle, CheckCircle } from 'lucide-react';

export default function TrainValTestDemo() {
  const [step, setStep] = useState(0);
  const [splitRatio, setSplitRatio] = useState({ train: 70, val: 15, test: 15 });
  const [modelTrained, setModelTrained] = useState(false);
  const [showOverfitting, setShowOverfitting] = useState(false);

  // Sample student data
  const totalStudents = 100;
  const students = Array.from({ length: totalStudents }, (_, i) => ({
    id: i + 1,
    hoursStudied: Math.floor(Math.random() * 10) + 1,
    score: Math.floor(Math.random() * 100) + 1,
  }));

  const trainSize = Math.floor((totalStudents * splitRatio.train) / 100);
  const valSize = Math.floor((totalStudents * splitRatio.val) / 100);
  const testSize = totalStudents - trainSize - valSize;

  const trainData = students.slice(0, trainSize);
  const valData = students.slice(trainSize, trainSize + valSize);
  const testData = students.slice(trainSize + valSize);

  const handleTrain = () => {
    setModelTrained(true);
  };

  const resetDemo = () => {
    setModelTrained(false);
    setShowOverfitting(false);
  };

  const getPerformance = (dataset) => {
    if (!modelTrained) return null;
    if (showOverfitting) {
      return {
        train: 98,
        val: 65,
        test: 62
      }[dataset];
    }
    return {
      train: 85,
      val: 82,
      test: 83
    }[dataset];
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 p-6">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="text-center mb-8">
          <h1 className="text-4xl font-bold text-gray-800 mb-2">
            üéì Training, Validation & Test Sets
          </h1>
          <p className="text-lg text-gray-600">
            Learn why we split our data into three groups!
          </p>
        </div>

        {/* Navigation */}
        <div className="flex flex-wrap justify-center gap-3 mb-8">
          {['The Problem', 'Data Splitting', 'Training Process', 'Understanding Results'].map((label, idx) => (
            <button
              key={idx}
              onClick={() => setStep(idx)}
              className={`px-6 py-3 rounded-lg font-semibold transition-all ${
                step === idx
                  ? 'bg-indigo-600 text-white shadow-lg scale-105'
                  : 'bg-white text-gray-600 hover:bg-gray-50 shadow'
              }`}
            >
              {idx + 1}. {label}
            </button>
          ))}
        </div>

        {/* Step 0: The Problem */}
        {step === 0 && (
          <div className="space-y-6">
            <div className="bg-white rounded-xl shadow-xl p-8">
              <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <AlertTriangle className="text-yellow-500" size={32} />
                Why Can't We Use All Our Data for Training?
              </h2>

              <div className="space-y-6">
                <div className="bg-red-50 border-l-4 border-red-400 p-6 rounded-lg">
                  <h3 className="font-bold text-xl text-red-800 mb-3">The Cheating Problem üò±</h3>
                  <p className="text-gray-700 mb-4">
                    Imagine if you studied ONLY the exact questions that would be on your final exam. 
                    You'd get a perfect score, but did you really learn anything?
                  </p>
                  <div className="bg-white p-4 rounded-lg">
                    <div className="font-semibold text-gray-800 mb-2">Example:</div>
                    <div className="space-y-2 text-sm">
                      <div>‚ùå You memorize: "Question 1: What is 2+2? Answer: 4"</div>
                      <div>‚ùå Test asks: "What is 2+2?" You know it's 4!</div>
                      <div>‚ùå Test asks: "What is 3+3?" You have no idea! üò∞</div>
                    </div>
                  </div>
                </div>

                <div className="grid md:grid-cols-2 gap-6">
                  <div className="bg-red-100 p-6 rounded-xl border-2 border-red-300">
                    <h3 className="font-bold text-xl text-red-800 mb-3">‚ùå Bad Approach</h3>
                    <div className="space-y-3">
                      <div className="bg-white p-4 rounded-lg">
                        <div className="font-semibold text-gray-800">Train on all 100 students</div>
                        <div className="text-sm text-gray-600">Model memorizes every student!</div>
                      </div>
                      <div className="bg-white p-4 rounded-lg">
                        <div className="font-semibold text-gray-800">Test on same 100 students</div>
                        <div className="text-sm text-gray-600">Perfect score! But it's fake...</div>
                      </div>
                      <div className="bg-red-200 p-3 rounded-lg text-center">
                        <div className="text-2xl font-bold text-red-800">98% Accuracy</div>
                        <div className="text-xs text-red-700">But can't predict NEW students!</div>
                      </div>
                    </div>
                  </div>

                  <div className="bg-green-100 p-6 rounded-xl border-2 border-green-300">
                    <h3 className="font-bold text-xl text-green-800 mb-3">‚úÖ Good Approach</h3>
                    <div className="space-y-3">
                      <div className="bg-white p-4 rounded-lg">
                        <div className="font-semibold text-gray-800">Train on 70 students</div>
                        <div className="text-sm text-gray-600">Model learns patterns!</div>
                      </div>
                      <div className="bg-white p-4 rounded-lg">
                        <div className="font-semibold text-gray-800">Test on 30 NEW students</div>
                        <div className="text-sm text-gray-600">Real test of learning!</div>
                      </div>
                      <div className="bg-green-200 p-3 rounded-lg text-center">
                        <div className="text-2xl font-bold text-green-800">85% Accuracy</div>
                        <div className="text-xs text-green-700">Can predict NEW students!</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="bg-blue-50 border-l-4 border-blue-400 p-6 rounded-lg">
                  <h3 className="font-bold text-lg text-blue-800 mb-2">üéØ The Goal</h3>
                  <p className="text-gray-700">
                    We want our model to <strong>learn patterns</strong>, not <strong>memorize answers</strong>. 
                    That's why we split our data into separate groups!
                  </p>
                </div>
              </div>

              <button
                onClick={() => setStep(1)}
                className="mt-6 w-full bg-indigo-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-indigo-700 transition-all shadow-lg"
              >
                Next: Let's Split the Data! ‚Üí
              </button>
            </div>
          </div>
        )}

        {/* Step 1: Data Splitting */}
        {step === 1 && (
          <div className="space-y-6">
            <div className="bg-white rounded-xl shadow-xl p-8">
              <h2 className="text-3xl font-bold text-gray-800 mb-6">
                üìä The Three-Way Split
              </h2>

              <p className="text-gray-600 mb-6 text-lg">
                We divide our 100 students into three groups. Adjust the sliders to see different splits!
              </p>

              {/* Sliders */}
              <div className="space-y-6 mb-8">
                <div>
                  <div className="flex justify-between mb-2">
                    <label className="font-semibold text-gray-700">üéì Training Set</label>
                    <span className="text-xl font-bold text-blue-600">{splitRatio.train}%</span>
                  </div>
                  <input
                    type="range"
                    min="50"
                    max="80"
                    value={splitRatio.train}
                    onChange={(e) => {
                      const train = parseInt(e.target.value);
                      const remaining = 100 - train;
                      setSplitRatio({
                        train,
                        val: Math.floor(remaining / 2),
                        test: Math.ceil(remaining / 2)
                      });
                      resetDemo();
                    }}
                    className="w-full h-3 bg-blue-200 rounded-lg appearance-none cursor-pointer"
                  />
                </div>

                <div>
                  <div className="flex justify-between mb-2">
                    <label className="font-semibold text-gray-700">üîç Validation Set</label>
                    <span className="text-xl font-bold text-purple-600">{splitRatio.val}%</span>
                  </div>
                  <input
                    type="range"
                    min="10"
                    max="25"
                    value={splitRatio.val}
                    onChange={(e) => {
                      const val = parseInt(e.target.value);
                      const test = 100 - splitRatio.train - val;
                      setSplitRatio({ ...splitRatio, val, test });
                      resetDemo();
                    }}
                    className="w-full h-3 bg-purple-200 rounded-lg appearance-none cursor-pointer"
                  />
                </div>

                <div className="bg-gray-100 p-4 rounded-lg">
                  <div className="flex justify-between mb-2">
                    <label className="font-semibold text-gray-700">üéØ Test Set</label>
                    <span className="text-xl font-bold text-green-600">{splitRatio.test}%</span>
                  </div>
                  <div className="text-sm text-gray-600">(Automatically calculated)</div>
                </div>
              </div>

              {/* Visual Split */}
              <div className="space-y-4">
                <div className="bg-gray-50 p-6 rounded-xl">
                  <h3 className="font-bold text-lg mb-4 text-center">
                    Visual Split of 100 Students
                  </h3>
                  <div className="flex gap-2 h-24">
                    <div 
                      className="bg-blue-400 rounded-lg flex items-center justify-center text-white font-bold transition-all"
                      style={{ width: `${splitRatio.train}%` }}
                    >
                      <div className="text-center">
                        <div className="text-2xl">{trainSize}</div>
                        <div className="text-xs">Students</div>
                      </div>
                    </div>
                    <div 
                      className="bg-purple-400 rounded-lg flex items-center justify-center text-white font-bold transition-all"
                      style={{ width: `${splitRatio.val}%` }}
                    >
                      <div className="text-center">
                        <div className="text-2xl">{valSize}</div>
                        <div className="text-xs">Students</div>
                      </div>
                    </div>
                    <div 
                      className="bg-green-400 rounded-lg flex items-center justify-center text-white font-bold transition-all"
                      style={{ width: `${splitRatio.test}%` }}
                    >
                      <div className="text-center">
                        <div className="text-2xl">{testSize}</div>
                        <div className="text-xs">Students</div>
                      </div>
                    </div>
                  </div>
                </div>

                {/* Explanations */}
                <div className="grid md:grid-cols-3 gap-4">
                  <div className="bg-blue-50 border-2 border-blue-300 rounded-xl p-6">
                    <div className="flex items-center gap-2 mb-3">
                      <BookOpen className="text-blue-600" size={24} />
                      <h3 className="font-bold text-lg text-blue-800">Training Set</h3>
                    </div>
                    <p className="text-gray-700 text-sm mb-3">
                      The model <strong>learns</strong> from this data. It's like studying from a textbook.
                    </p>
                    <div className="bg-white p-3 rounded-lg text-xs space-y-1">
                      <div>‚úì Largest portion (60-80%)</div>
                      <div>‚úì Model sees these examples</div>
                      <div>‚úì Learns patterns here</div>
                    </div>
                  </div>

                  <div className="bg-purple-50 border-2 border-purple-300 rounded-xl p-6">
                    <div className="flex items-center gap-2 mb-3">
                      <Brain className="text-purple-600" size={24} />
                      <h3 className="font-bold text-lg text-purple-800">Validation Set</h3>
                    </div>
                    <p className="text-gray-700 text-sm mb-3">
                      Like practice tests. We use this to <strong>tune</strong> the model and check progress.
                    </p>
                    <div className="bg-white p-3 rounded-lg text-xs space-y-1">
                      <div>‚úì Medium portion (10-20%)</div>
                      <div>‚úì Checks if we're overfitting</div>
                      <div>‚úì Helps adjust settings</div>
                    </div>
                  </div>

                  <div className="bg-green-50 border-2 border-green-300 rounded-xl p-6">
                    <div className="flex items-center gap-2 mb-3">
                      <Target className="text-green-600" size={24} />
                      <h3 className="font-bold text-lg text-green-800">Test Set</h3>
                    </div>
                    <p className="text-gray-700 text-sm mb-3">
                      The <strong>final exam</strong>! Model has NEVER seen this data before.
                    </p>
                    <div className="bg-white p-3 rounded-lg text-xs space-y-1">
                      <div>‚úì Smaller portion (10-20%)</div>
                      <div>‚úì Model never sees until end</div>
                      <div>‚úì True measure of learning</div>
                    </div>
                  </div>
                </div>
              </div>

              <button
                onClick={() => setStep(2)}
                className="mt-6 w-full bg-indigo-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-indigo-700 transition-all shadow-lg"
              >
                Next: Train the Model! ‚Üí
              </button>
            </div>
          </div>
        )}

        {/* Step 2: Training Process */}
        {step === 2 && (
          <div className="space-y-6">
            <div className="bg-white rounded-xl shadow-xl p-8">
              <h2 className="text-3xl font-bold text-gray-800 mb-6">
                üöÄ The Training Process
              </h2>

              <div className="space-y-6">
                {/* Training Visualization */}
                <div className="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl">
                  <h3 className="font-bold text-xl mb-4 text-center">How We Use Each Dataset</h3>
                  
                  <div className="space-y-4">
                    <div className="flex items-center gap-4">
                      <div className="bg-blue-500 text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0">
                        1
                      </div>
                      <div className="flex-1">
                        <div className="bg-white p-4 rounded-lg shadow">
                          <div className="font-semibold text-blue-800 mb-1">Train on Training Set</div>
                          <div className="text-sm text-gray-600">
                            Model learns patterns from {trainSize} students
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="flex items-center gap-4">
                      <div className="bg-purple-500 text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0">
                        2
                      </div>
                      <div className="flex-1">
                        <div className="bg-white p-4 rounded-lg shadow">
                          <div className="font-semibold text-purple-800 mb-1">Check with Validation Set</div>
                          <div className="text-sm text-gray-600">
                            Test on {valSize} students to see if it's learning well
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="flex items-center gap-4">
                      <div className="bg-purple-500 text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0">
                        3
                      </div>
                      <div className="flex-1">
                        <div className="bg-white p-4 rounded-lg shadow">
                          <div className="font-semibold text-purple-800 mb-1">Adjust & Improve</div>
                          <div className="text-sm text-gray-600">
                            If validation score is low, adjust model settings and train again
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="flex items-center gap-4">
                      <div className="bg-green-500 text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl flex-shrink-0">
                        4
                      </div>
                      <div className="flex-1">
                        <div className="bg-white p-4 rounded-lg shadow">
                          <div className="font-semibold text-green-800 mb-1">Final Test on Test Set</div>
                          <div className="text-sm text-gray-600">
                            ONLY ONCE! Test on {testSize} students model has never seen
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                {/* Interactive Training */}
                <div className="border-4 border-indigo-200 rounded-xl p-6 bg-indigo-50">
                  <h3 className="font-bold text-xl mb-4 text-center">Try Training!</h3>
                  
                  {!modelTrained ? (
                    <div className="space-y-4">
                      <div className="bg-white p-6 rounded-lg text-center">
                        <p className="text-gray-600 mb-4">
                          Click to train the model on the training set and see how it performs!
                        </p>
                        <button
                          onClick={handleTrain}
                          className="bg-indigo-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-indigo-700 transition-all shadow-lg"
                        >
                          üöÄ Train Model
                        </button>
                      </div>
                    </div>
                  ) : (
                    <div className="space-y-4">
                      <div className="bg-green-100 border-2 border-green-400 p-4 rounded-lg text-center">
                        <CheckCircle className="inline text-green-600 mb-2" size={32} />
                        <div className="font-bold text-green-800">Model Trained Successfully!</div>
                      </div>

                      <div className="grid md:grid-cols-3 gap-4">
                        <div className="bg-white p-4 rounded-lg shadow-lg border-2 border-blue-300">
                          <div className="text-sm text-gray-600 mb-1">Training Set</div>
                          <div className="text-3xl font-bold text-blue-600">
                            {getPerformance('train')}%
                          </div>
                          <div className="text-xs text-gray-500 mt-1">
                            {showOverfitting ? 'Too high!' : 'Good learning!'}
                          </div>
                        </div>

                        <div className="bg-white p-4 rounded-lg shadow-lg border-2 border-purple-300">
                          <div className="text-sm text-gray-600 mb-1">Validation Set</div>
                          <div className="text-3xl font-bold text-purple-600">
                            {getPerformance('val')}%
                          </div>
                          <div className="text-xs text-gray-500 mt-1">
                            {showOverfitting ? 'Concerning...' : 'Looks good!'}
                          </div>
                        </div>

                        <div className="bg-white p-4 rounded-lg shadow-lg border-2 border-green-300">
                          <div className="text-sm text-gray-600 mb-1">Test Set</div>
                          <div className="text-3xl font-bold text-green-600">
                            {getPerformance('test')}%
                          </div>
                          <div className="text-xs text-gray-500 mt-1">
                            {showOverfitting ? 'Poor!' : 'Great!'}
                          </div>
                        </div>
                      </div>

                      <div className="flex gap-4">
                        <button
                          onClick={() => setShowOverfitting(!showOverfitting)}
                          className="flex-1 bg-yellow-500 text-white py-3 rounded-lg font-bold hover:bg-yellow-600 transition-all"
                        >
                          {showOverfitting ? '‚úÖ Show Good Model' : '‚ö†Ô∏è Show Overfitting'}
                        </button>
                        <button
                          onClick={resetDemo}
                          className="flex-1 bg-gray-500 text-white py-3 rounded-lg font-bold hover:bg-gray-600 transition-all"
                        >
                          üîÑ Reset
                        </button>
                      </div>

                      {showOverfitting && (
                        <div className="bg-red-50 border-2 border-red-400 p-4 rounded-lg">
                          <div className="font-bold text-red-800 mb-2">üö® Overfitting Detected!</div>
                          <div className="text-sm text-gray-700">
                            Training accuracy is too high (98%) but validation and test are low (65%, 62%). 
                            The model memorized the training data instead of learning patterns!
                          </div>
                        </div>
                      )}
                    </div>
                  )}
                </div>
              </div>

              <button
                onClick={() => setStep(3)}
                className="mt-6 w-full bg-indigo-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-indigo-700 transition-all shadow-lg"
              >
                Next: Understanding Results ‚Üí
              </button>
            </div>
          </div>
        )}

        {/* Step 3: Understanding Results */}
        {step === 3 && (
          <div className="space-y-6">
            <div className="bg-white rounded-xl shadow-xl p-8">
              <h2 className="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <Trophy className="text-yellow-500" size={36} />
                Understanding the Results
              </h2>

              <div className="space-y-6">
                <div className="grid md:grid-cols-2 gap-6">
                  {/* Good Model */}
                  <div className="bg-green-50 border-4 border-green-300 rounded-xl p-6">
                    <h3 className="font-bold text-2xl text-green-800 mb-4 flex items-center gap-2">
                      <CheckCircle size={28} />
                      Good Model (Generalizes Well)
                    </h3>
                    
                    <div className="space-y-3 mb-4">
                      <div className="bg-white p-4 rounded-lg">
                        <div className="flex justify-between items-center">
                          <span className="font-semibold">Training:</span>
                          <span className="text-2xl font-bold text-blue-600">85%</span>
                        </div>
                      </div>
                      <div className="bg-white p-4 rounded-lg">
                        <div className="flex justify-between items-center">
                          <span className="font-semibold">Validation:</span>
                          <span className="text-2xl font-bold text-purple-600">82%</span>
                        </div>
                      </div>
                      <div className="bg-white p-4 rounded-lg">
                        <div className="flex justify-between items-center">
                          <span className="font-semibold">Test:</span>
                          <span className="text-2xl font-bold text-green-600">83%</span>
                        </div>
                      </div>
                    </div>

                    <div className="bg-green-100 p-4 rounded-lg">
                      <div className="font-bold text-green-800 mb-2">‚úÖ What This Means:</div>
                      <ul className="text-sm space-y-1 text-gray-700">
                        <li>‚úì All scores are similar</li>
                        <li>‚úì Model learned patterns, not answers</li>
                        <li>‚úì Works well on new data</li>
                        <li>‚úì Ready for production!</li>
                      </ul>
                    </div>
                  </div>

                  {/* Bad Model */}
                  <div className="bg-red-50 border-4 border-red-300 rounded-xl p-6">
                    <h3 className="font-bold text-2xl text-red-800 mb-4 flex items-center gap-2">
                      <AlertTriangle size={28} />
                      Overfitted Model
                    </h3>
                    
                    <div className="space-y-3 mb-4">
                      <div className="bg-white p-4 rounded-lg">
                        <div className="flex justify-between items-center">
                          <span className="font-semibold">Training:</span>
                          <span className="text-2xl font-bold text-blue-600">98%</span>
                        </div>
                      </div>
                      <div className="bg-white p-4 rounded-lg">
                        <div className="flex justify-between items-center">
                          <span className="font-semibold">Validation:</span>
                          <span className="text-2xl font-bold text-purple-600">65%</span>
                        </div>
                      </div>
                      <div className="bg-white p-4 rounded-lg">
                        <div className="flex justify-between items-center">
                          <span className="font-semibold">Test:</span>
                          <span className="text-2xl font-bold text-green-600">62%</span>
                        </div>
                      </div>
                    </div>

                    <div className="bg-red-100 p-4 rounded-lg">
                      <div className="font-bold text-red-800 mb-2">‚ùå What This Means:</div>
                      <ul className="text-sm space-y-1 text-gray-700">
                        <li>‚úó Training score way too high</li>
                        <li>‚úó Model memorized training data</li>
                        <li>‚úó Poor on new data</li>
                        <li>‚úó Needs more training data or simpler model</li>
                      </ul>
                    </div>
                  </div>
                </div>

                {/* Key Insights */}
                <div className="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6">
                  <h3 className="font-bold text-xl mb-4">üîë Key Insights</h3>
                  <div className="grid md:grid-cols-2 gap-4">
                    <div className="bg-white p-4 rounded-lg">
                      <div className="font-semibold text-blue-800 mb-2">Training Set Score</div>
                      <p className="text-sm text-gray-700">
                        Shows how well the model learned the training examples. 
                        If too high compared to others, it's memorizing!
                      </p>
                    </div>
                    <div className="bg-white p-4 rounded-lg">
                      <div className="font-semibold text-purple-800 mb-2">Validation Set Score</div>
                      <p className="text-sm text-gray-700">
                        Helps us detect overfitting early. If it drops while training improves, stop training!
                      </p>
                    </div>
                    <div className="bg-white p-4 rounded-lg">
                      <div className="font-semibold text-green-800 mb-2">Test Set Score</div>
                      <p className="text-sm text-gray-700">
                        The TRUE measure of success. This is how well your model will work in the real world.
                      </p>
                    </div>
                    <div className="bg-white p-4 rounded-lg">
                      <div className="font-semibold text-yellow-800 mb-2">The Golden Rule</div>
                      <p className="text-sm text-gray-700">
                        <strong>NEVER train on test data!</strong> Use it only once at the very end.
                      </p>
                    </div>
                  </div>
                </div>

                {/* Real World Analogy */}
                <div className="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg">
                  <h3 className="font-bold text-lg mb-3">üéì Real World Analogy</h3>
                  <div className="space-y-3 text-gray-700">
                    <div>
                      <strong className="text-blue-700">Training Set:</strong> Your homework and class exercises. 
                      You practice and learn from these.
                    </div>
                    <div>
                      <strong className="text-purple-700">Validation Set:</strong> Practice tests your teacher gives. 
                      You use these to check your progress and adjust your study strategy.
                    </div>
                    <div>
                      <strong className="text-green-700">Test Set:</strong> The final exam that counts for your grade. 
                      You see it only once, and it shows what you truly learned!
                    </div>
                  </div>
                </div>

                {/* Summary */}
                <div className="bg-indigo-100 border-4 border-indigo-400 rounded-xl p-6">
                  <h3 className="font-bold text-2xl text-indigo-800 mb-4 text-center">
                    üéØ Remember These Rules!
                  </h3>
                  <div className="space-y-3">
                    <div className="bg-white p-4 rounded-lg flex items-start gap-3">
                      <div className="text-2xl">1Ô∏è‚É£</div>
                      <div>
                        <strong className="text-gray-800">Always split your data</strong>
                        <div className="text-sm text-gray-600">Typically 70% train, 15% validation, 15% test</div>
                      </div>
                    </div>
                    <div className="bg-white p-4 rounded-lg flex items-start gap-3">
                      <div className="text-2xl">2Ô∏è‚É£</div>
                      <div>
                        <strong className="text-gray-800">Use validation to tune</strong>
                        <div className="text-sm text-gray-600">Adjust model settings based on validation performance</div>
                      </div>
                    </div>
                    <div className="bg-white p-4 rounded-lg flex items-start gap-3">
                      <div className="text-2xl">3Ô∏è‚É£</div>
                      <div>
                        <strong className="text-gray-800">Test only once</strong>
                        <div className="text-sm text-gray-600">Save test set for the final evaluation</div>
                      </div>
                    </div>
                    <div className="bg-white p-4 rounded-lg flex items-start gap-3">
                      <div className="text-2xl">4Ô∏è‚É£</div>
                      <div>
                        <strong className="text-gray-800">Watch for overfitting</strong>
                        <div className="text-sm text-gray-600">If training score is much higher than validation, you're memorizing!</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <button
                onClick={() => setStep(0)}
                className="mt-6 w-full bg-purple-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-purple-700 transition-all shadow-lg"
              >
                üîÑ Start Over
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
